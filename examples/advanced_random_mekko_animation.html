<!DOCTYPE html>

<html>
<head>
    <title>Test Bed</title>
</head>

<body>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="/dist/dimple.v1.min.js"></script>
    <script type="text/javascript">
        var svg = dimple.newSvg("body", 1000, 600);
        function getData() {
            var returnVal = [];
            var bc = Math.ceil(Math.random() * 4);
            var c = Math.ceil(Math.random() * 12);
            for (var k = 1; k <= bc; k++) {
                for (var i = 1; i <= c; i++) {
                    returnVal.push({ "Brand":"Brand " + k, "SKU":"SKU " + i, "Volume": 5000 - Math.floor(Math.random() * 10000), "Value": 5000 - Math.floor(Math.random() * 10000)});
                }
            }
            return returnVal;
        }
        var myChart = new dimple.chart(svg, getData());
        myChart.addAxis("x", "Brand", "Value").showPercent = true;
        myChart.addPctAxis("y", "Value");
        myChart.addSeries("SKU", dimple.plot.bar);
        myChart.draw();
        
        setInterval(function () {
            myChart.data = getData();
            myChart.draw(1000);
        }, 2000);
    </script>
    </script>
</body>
</html>
